{
    "class": "AS3",
    "action": "deploy",
    "persist": true,
    "declaration": {
       "class": "ADC",
       "schemaVersion": "3.0.0",
       "id": "tenant2",
       "label": "Sample 4",
       "remark": "HTTPS with sslbridging and external WAF",
       "Common": {
          "class": "Tenant",
          "Shared": {
              "class": "Application",
              "template": "shared",
              "virt_addr_10_1_20_20": {
                  "class": "Service_Address",
                  "virtualAddress": "10.1.20.20"
              }
          }
      },
       "tenant_02": {
       "class": "Tenant",
       "App_3": {
             "class": "Application",
             "template": "generic",
             "app3_vs": {
             "class": "Service_HTTPS",
             "virtualAddresses": [
                {"use": "/Common/Shared/virt_addr_10_1_20_20"}
            ],
             "pool": "web_pool",
             "policyWAF": {"use": "My_AWAF_Policy"},
             "serverTLS": "webtls"
             },
             "web_pool": {
             "class": "Pool",
             "loadBalancingMode": "predictive-node",
             "monitors": [
             "http"
             ],
             "members": [{
                "shareNodes": true,
                "servicePort": 3000,
                "serverAddresses": [
                "10.1.10.5"
                ]
             }]
             },
             "webtls": {
             "class": "TLS_Server",
             "certificates": [{
                "certificate": "webcert"
             }]
             },
             "webcert": {
             "class": "Certificate",
             "remark": "using default",
             "certificate": {"bigip":"/Common/default.crt"},
             "privateKey": {"bigip":"/Common/default.key"}
             },
             "My_AWAF_Policy": {
                "class": "WAF_Policy",
                "ignoreChanges": false,
                "url": "https://raw.githubusercontent.com/scshitole/more-terraform/master/Sample_app_sec_02_waf_policy.xml"
             }
         }
       }
    }
 }